# TS-Iteration-Loop 统一环境依赖
# 合并自：FastAPI 主应用 + ChatTS 推理 + LlamaFactory 训练 + 数据处理

# ===== 核心框架 =====
fastapi>=0.104.0
uvicorn>=0.24.0
pydantic>=2.5.0,<=2.10.6
pydantic-settings>=2.1.0
gradio>=4.38.0

# ===== 数据库与任务队列 =====
sqlalchemy>=2.0.0
aiosqlite>=0.19.0
celery>=5.3.0
redis>=5.0.0

# ===== HTTP 客户端 =====
httpx[socks]>=0.25.0
python-multipart>=0.0.6
python-jose[cryptography]>=3.3.0
sse-starlette

# ===== 数据处理 =====
numpy>=1.26.0,<2.0.0
pandas>=2.0.0
scipy>=1.12.0
scikit-learn>=1.4.0

# ===== 时序分析 =====
tsdownsample>=0.1.0
statsmodels>=0.14.0
adtk>=0.6.2
kneed>=0.8.0

# ===== 深度学习核心 (PyTorch 需单独安装) =====
# pip install torch>=2.5.0 --index-url https://download.pytorch.org/whl/cu124
transformers>=4.49.0
tokenizers>=0.19.0
peft>=0.14.0
bitsandbytes>=0.41.0
accelerate>=1.3.0
sentencepiece>=0.1.99
safetensors>=0.4.0
huggingface-hub>=0.20.0
datasets>=2.16.0

# ===== LlamaFactory 训练额外依赖 =====
trl>=0.8.6
einops
modelscope>=1.14.0
hf-transfer
fire
omegaconf
protobuf
pyyaml

# ===== IoTDB 数据采集 =====
apache-iotdb>=1.3.0

# ===== 可视化 =====
matplotlib>=3.7.0
seaborn>=0.13.0

# ===== 工具库 =====
tqdm>=4.66.0
joblib>=1.3.0
Pillow>=10.0.0
requests>=2.31.0

# ===== 标注工具 (Flask) =====
flask>=3.0.0
flask-cors>=4.0.0

# ===== 媒体处理 (可选) =====
av
librosa
